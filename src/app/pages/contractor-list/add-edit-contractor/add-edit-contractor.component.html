<section class="services-area ptb-100 bg-gray">
    <div class="container">
        <div class="row mt-1 pt-1">
            <div class="col-md-12 col-lg-12 mt-3 pt-3">
                <app-alert></app-alert>
                <div fxLayout fxLayoutAlign="center center" class="filter-header">
                     {{action}} Contractor
                </div>
                <form [formGroup]="contractorAddEditForm" autocomplete="off" (ngSubmit)="onSubmit()">
                    <div fxLayout="row" fxLayout.sm="column" fxLayout.xs="column" fxLayoutGap="20px">
                        
                            <mat-form-field appearance="outline" fxFlex="20%">
                                <mat-label>First Name</mat-label>
                                <input matInput formControlName="firstName" [(ngModel)]="firstnamevalue" />
                                <button mat-button *ngIf="firstnamevalue" matSuffix mat-icon-button aria-label="Clear" (click)="firstnamevalue=''">
                                    <mat-icon>close</mat-icon>
                                </button>
                                <mat-error *ngIf="hasError('firstName')">{{getErrorMessage('firstname')}}</mat-error>
                            </mat-form-field>
                        
                            <mat-form-field appearance="outline" fxFlex="20%">
                                <mat-label>Last Name</mat-label>
                                <input matInput formControlName="lastName" [(ngModel)]="lastnamevalue" />
                                <button mat-button *ngIf="lastnamevalue" matSuffix mat-icon-button aria-label="Clear" (click)="lastnamevalue=''">
                                    <mat-icon>close</mat-icon>
                                </button>
                                <mat-error *ngIf="hasError('lastName')">{{getErrorMessage('lastname')}}</mat-error>
                            </mat-form-field>
                        
                            <mat-form-field appearance="outline" fxFlex="15%">
                                <mat-label>SSN</mat-label>
                                <input matInput formControlName="ssn" [(ngModel)]="ssnvalue" mask="000-00-0000" placeholder="###-##-####" />
                                <button mat-button *ngIf="ssnvalue" matSuffix mat-icon-button aria-label="Clear" (click)="ssnvalue=''">
                                    <mat-icon>close</mat-icon>
                                </button>
                                <mat-error *ngIf="hasError('ssn')">{{getErrorMessage('ssn')}}</mat-error>
                            </mat-form-field>
                                                
                            <mat-form-field appearance="outline" fxFlex="45%">
                                <mat-label>Email</mat-label>
                                <input matInput formControlName="emailAddress" [(ngModel)]="emailvalue" />
                                <button mat-button *ngIf="emailvalue" matSuffix mat-icon-button aria-label="Clear" (click)="emailvalue=''">
                                    <mat-icon>close</mat-icon>
                                </button>
                                <mat-error *ngIf="hasError('emailAddress')">{{getErrorMessage('emailAddress')}}</mat-error>
                            </mat-form-field>
                        
                    </div>
                    <div fxLayout="row" fxLayout.sm="column" fxLayout.xs="column" fxLayoutGap="20px">                        
                        <mat-form-field appearance="outline" fxFlex="25%">
                            <mat-label>Address</mat-label>
                            <input matInput formControlName="address" [(ngModel)]="addressvalue" />
                            <button mat-button *ngIf="addressvalue" matSuffix mat-icon-button aria-label="Clear" (click)="addressvalue=''">
                                <mat-icon>close</mat-icon>
                            </button>
                            <mat-error *ngIf="hasError('address')">{{getErrorMessage('address')}}</mat-error>
                        </mat-form-field>
                        <mat-form-field appearance="outline" fxFlex="25%">
                            <mat-label>Address2</mat-label>
                            <input matInput formControlName="address2" [(ngModel)]="address2value" />
                            <button mat-button *ngIf="address2value" matSuffix mat-icon-button aria-label="Clear" (click)="address2value=''">
                                <mat-icon>close</mat-icon>
                            </button>
                        </mat-form-field>
                        <mat-form-field appearance="outline" fxFlex="15%">
                            <mat-label>City</mat-label>
                            <input matInput formControlName="city" [(ngModel)]="cityvalue" />
                            <button mat-button *ngIf="cityvalue" matSuffix mat-icon-button aria-label="Clear" (click)="cityvalue=''">
                                <mat-icon>close</mat-icon>
                            </button>
                            <mat-error *ngIf="hasError('city')">{{getErrorMessage('city')}}</mat-error>
                        </mat-form-field>
                        <mat-form-field appearance="outline" fxFlex="15%">
                            <mat-label>State</mat-label>
                            <mat-select formControlName="state">
                                <mat-option *ngFor="let state of states" [value]="state.id">{{state.value}}</mat-option>
                            </mat-select>
                            <mat-error *ngIf="hasError('state')">{{getErrorMessage('state')}}</mat-error>
                        </mat-form-field>
                        <mat-form-field appearance="outline" fxFlex="20%">
                            <mat-label>Zip Code</mat-label>
                            <input matInput formControlName="zip" [(ngModel)]="zipvalue" />
                            <button mat-button *ngIf="zipvalue" matSuffix mat-icon-button aria-label="Clear" (click)="zipvalue=''">
                                <mat-icon>close</mat-icon>
                            </button>
                            <mat-error *ngIf="hasError('zip')">{{getErrorMessage('zip')}}</mat-error>
                        </mat-form-field>
                    </div>
                    <div fxLayout="row" fxLayout.sm="column" fxLayout.xs="column" fxLayoutGap="20px">                        
                        <mat-form-field appearance="outline" fxFlex="25%">
                            <mat-label>Phone</mat-label>
                            <input matInput formControlName="phone" [(ngModel)]="phonevalue" />
                            <button mat-button *ngIf="phonevalue" matSuffix mat-icon-button aria-label="Clear" (click)="phonevalue=''">
                                <mat-icon>close</mat-icon>
                            </button>
                            <mat-error *ngIf="hasError('phone')">{{getErrorMessage('phone')}}</mat-error>
                        </mat-form-field>
                        <mat-form-field appearance="outline" fxFlex="25%">
                            <mat-label>Cell Phone</mat-label>
                            <input matInput formControlName="cellPhone" [(ngModel)]="cellphonevalue" />
                            <button mat-button *ngIf="cellphonevalue" matSuffix mat-icon-button aria-label="Clear" (click)="cellphonevalue=''">
                                <mat-icon>close</mat-icon>
                            </button>
                        </mat-form-field>
                        <mat-form-field appearance="outline" fxFlex="15%">
                            <mat-label>Emergency Contact</mat-label>
                            <input matInput formControlName="emergencyContact" [(ngModel)]="emergencyvalue" />
                            <button mat-button *ngIf="emergencyvalue" matSuffix mat-icon-button aria-label="Clear" (click)="emergencyvalue=''">
                                <mat-icon>close</mat-icon>
                            </button>
                        </mat-form-field>
                        <mat-form-field appearance="outline" fxFlex="20%">
                            <mat-label>EC Phone</mat-label>
                            <input matInput formControlName="ecPhone" [(ngModel)]="ecphonevalue" />
                            <button mat-button *ngIf="ecphonevalue" matSuffix mat-icon-button aria-label="Clear" (click)="ecphonevalue=''">
                                <mat-icon>close</mat-icon>
                            </button>
                        </mat-form-field>
                        <mat-form-field appearance="outline" fxFlex="15%">
                            <mat-label>Candidate Source</mat-label>
                            <mat-select formControlName="candidateSourceId">
                                <mat-option *ngFor="let cand of candSources" [value]="cand.candidateSourceId">{{cand.sourceName}}</mat-option>
                            </mat-select>
                            <mat-error *ngIf="hasError('candidateSourceId')">{{getErrorMessage('candidateSourceId')}}</mat-error>
                        </mat-form-field>                        
                    </div>
                    <div fxLayout="row" fxLayout.sm="column" fxLayout.xs="column" fxLayoutGap="20px">                        
                        <mat-form-field appearance="outline" fxFlex="20%">
                            <mat-label>Access Level</mat-label>
                            <mat-select formControlName="accessLevel">
                                <mat-option [value]="">Select Access Level</mat-option>
                                <mat-option [value]="Admin">Admin</mat-option>
                                <mat-option [value]="Contractor">Contractor</mat-option>
                            </mat-select>
                            <mat-error *ngIf="hasError('accessLevel')">{{getErrorMessage('accessLevel')}}</mat-error>
                        </mat-form-field>
                        <mat-form-field appearance="outline" fxFlex="20%">
                            <mat-label>Release Timesheet?</mat-label>
                            <mat-select formControlName="toReleaseTimesheet">
                                <mat-option [value]="true">Yes</mat-option>
                                <mat-option [value]="false">No</mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-form-field appearance="outline" fxFlex="16%">
                            <mat-label>Service Type</mat-label>
                            <mat-select formControlName="homeHealthStatus">
                                <mat-option [value]="">Select Type</mat-option>
                                <mat-option [value]="Richmond">Richmond</mat-option>
                                <mat-option [value]="'SW VA'">SW VA</mat-option>
                                <mat-option [value]="Largo">Largo</mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-form-field appearance="outline" fxFlex="22%">
                            <mat-label>Sales Person</mat-label>
                            <mat-select formControlName="salesPerson">
                                <mat-option *ngFor="let sales of salesPersonList" [value]="sales.employeeId">{{sales.firstName+' '+sales.lastName}}</mat-option>
                            </mat-select>
                        </mat-form-field>
                        <mat-form-field appearance="outline" fxFlex="22%">
                            <mat-label>Recruiter</mat-label>
                            <mat-select formControlName="recruiter">
                                <mat-option *ngFor="let rec of recruiters" [value]="rec.employeeId">{{rec.firstName+' '+rec.lastName}}</mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                    <div fxLayout="row" *ngIf="!isAddMode">
                        <h3 class="pt-3">Change Password</h3>
                        <p>Leave blank to keep the same password</p>
                    </div>
                    <div fxLayout="row" fxLayout.sm="column" fxLayout.xs="column" fxLayoutGap="20px">                        
                        <mat-form-field appearance="outline" fxFlex="50%">
                            <mat-label>Password</mat-label>
                            <input matInput formControlName="password" [type]="pwd_hide ? 'password' : 'text'" [(ngModel)]="passwordvalue" />
                            <button mat-button *ngIf="passwordvalue" matSuffix mat-icon-button aria-label="Clear" (click)="passwordvalue=''">
                                <mat-icon>close</mat-icon>
                            </button>
                            <mat-icon matSuffix (click)="pwd_hide = !pwd_hide">{{pwd_hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                            <mat-error *ngIf="hasError('password')">{{getErrorMessage('password')}}</mat-error>
                        </mat-form-field>
                        <mat-form-field appearance="outline" fxFlex="50%">
                            <mat-label>Confirm Password</mat-label>
                            <input matInput formControlName="confirmPassword" [type]="cfm_pwd_hide ? 'password' : 'text'" [(ngModel)]="confirmpasswordvalue" />
                            <button mat-button *ngIf="confirmpasswordvalue" matSuffix mat-icon-button aria-label="Clear" (click)="confirmpasswordvalue=''">
                                <mat-icon>close</mat-icon>
                            </button>
                            <mat-icon matSuffix (click)="cfm_pwd_hide = !cfm_pwd_hide">{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                            <mat-error *ngIf="hasError('confirmPassword')">{{getErrorMessage('confirmPassword')}}</mat-error>
                        </mat-form-field>
                    </div>
                    <div fxLayout="row" fxLayout.sm="column" fxLayout.xs="column" fxLayoutGap="20px">
                        <button mat-raised-button [disabled]="!contractorAddEditForm.valid" color="primary">
                            Save
                        </button>
                        <a mat-raised-button routerLink="/contractor-list" class="btn btn-link">Cancel</a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</section>
